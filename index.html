<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Finder</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="toolbar">
    <fieldset class="radio" title="Show items as icons, in a list or in columns">
        <legend>View</legend>
        <label tabindex="0"><input type="radio" name="view" value="icons"> <span>Icons</span></label>
        <label tabindex="0"><input type="radio" name="view" value="list"> <span>List</span></label>
        <label tabindex="0"><input type="radio" name="view" value="columns" checked> <span>Columns</span></label>
    </fieldset>
</div>
<div id="container" data-view="columns">
    <ul class="panel" data-level="0">
        <li class="folder active"><span>Blackmagic RAW</span></li>
        <li class="folder"><span>DaVinci Resolve</span></li>
        <li><span>1Password 7</span></li>
        <li><span>Alfred 4</span></li>
        <li><span>Arc</span></li>
    </ul>
    <ul class="panel" data-level="1">
        <li><span>Blackmagic RAW Player</span></li>
        <li class="folder"><span>Blackmagic RAW Speed Test</span></li>
    </ul>
</div>
<script type="text/javascript">
    const toolbar = document.querySelector('#toolbar');
    const container = document.querySelector('#container');

    let view = localStorage.getItem('view') || 'icons';
    container.setAttribute('data-view', view);
    toolbar.querySelector(`input[value="${view}"]`).checked = true;

    // if enter or space is pressed on a toolbar item, check the radio button
    toolbar.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
            event.target.querySelector('input').checked = true;
        }
    });

    toolbar.addEventListener('change', (event) => {
        localStorage.setItem('view', event.target.value);
        container.setAttribute('data-view', event.target.value);
    });
</script>
</body>
</html>
